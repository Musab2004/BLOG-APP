<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog Editor</title>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <link
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
rel="stylesheet"
/>
<!-- Google Fonts -->
<link
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
rel="stylesheet"
/>
<!-- MDB -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css"
rel="stylesheet"
/>
</head>
<body>
    <!-- <script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"
></script> -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> -->
  {% include 'navbar.html' %}
</head>

<header>
    <!-- Intro settings -->

    <!-- Navbar -->
   
{% include 'navbar.html' %}

    <!-- Navbar -->
  
    <!-- Jumbotron -->

    <!-- Jumbotron -->
  </header>

  <script>
    $(document).ready(function() {
      // Trigger file input click when the user clicks on the image
      const myButton = document.getElementById('previewImage');
      const Inputimage = document.getElementById('imageInput');
  // Add a click event listener to the element
  myButton.addEventListener('click', function() {
      const my= document.getElementById('imageInput');
      my.click()
  
  });
  Inputimage.addEventListener('change', function() {
    const file = this.files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
      const previewImage = document.getElementById('previewImage');
      previewImage.src = e.target.result;
      previewImage.style.display = 'block';
      console.log("its running")
    };
  reader.readAsDataURL(file);
      // Function to read and display the selected image
  
    });
  });
  </script>
<body>
<div style="margin-top: 10%;">   
    <form method="post" id="blogForm" action="{% url 'blog_home:writeblog' %}"  enctype="multipart/form-data">
        
        <div class="form-group">
            <div class="image-container text-center">
                <!-- Placeholder image -->
                <label for="imageInput"></label>
                <img src="https://mdbootstrap.com/img/new/slides/080.jpg" id="previewImage"  class="img-fluid" alt="Uploaded Image" style="border-radius: 2%; height: 200px; width: 40%;">
                <!-- File input -->
                <input type="file" id="imageInput" name="blog_title_image" class="d-none">
            </div>
    
            
            <input type="text" class="form-control" id="blogTitle" name="blogTitle" placeholder="Enter your blog title">
          <input type="text" class="form-control" id="blogTitle" name="description" placeholder="Enter description of your blog ">
          <input type="text" class="form-control" id="blogTitle" name="Category" placeholder="Category">
       
        </div>
        <div id="editor"></div>
        <input type="hidden" id="hiddenContent" name="hiddenContent">
        {% csrf_token %}
        <button type="submit" id="saveButton" class="btn btn-primary" style="margin-top: 5%;margin-left: 20%; width: 50%;">Save</button>
      </form>
      
</div>
    
       <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <script>
    const editor = new Quill('#editor', {
   
      theme: 'snow'
    });
    
    const saveButton = document.getElementById('saveButton');
    const hiddenContentInput = document.getElementById('hiddenContent');

    saveButton.addEventListener('click', () => {
      const content = editor.root.innerHTML; // Get the HTML content from the editor
      // You can now send the 'content' to your server for saving or further processing
      console.log(content);
      hiddenContentInput.value = content
    });
  </script>
</body>
</html>
